# GitHub-API

## Тест для проверки работы с GitHub API на языке Python

Проект содержит Python-скрипт, который взаимодействует с GitHub API для выполнения следующих задач:
- **Создание нового репозитория**
- **Проверка существования репозитория**
- **Удаление репозитория**

## Требования
Перед запуском скрипта убедитесь, что у вас установлены следующие компоненты и выполнены необходимые настройки:

**1. Python** 

Установите Python 3.10 и выше.

Вы можете скачать последнюю версию Python с [официального сайта](https://www.python.org/).

Проверьте, что Python установлен корректно, выполнив команду в терминале или командной строке:


```bash
python --version
```
**2. Учетная запись GitHub**

Убедитесь, что у вас есть активная учетная запись GitHub с правами на создание и удаление репозиториев.

Если у вас еще нет аккаунта, создайте его на [GitHub](https://github.com/).

**3. GitHub Personal Access Token (PAT)**

Для взаимодействия с GitHub API вам понадобится персональный токен доступа (PAT) с необходимыми правами.

**Шаги для получения токена:**
- Перейдите:
**Settings - Developer Settings - Personal access tokens - Tokens(classic)**
- Нажмите **Generate new token**.
- Укажите описание токена (например, `GitHub API Token`).
- Установите срок действия токена (например, 30 дней).
- В разделе **Scopes (Права)** выберите следующие права:

1. [x] `repo` (полный доступ к репозиториям).
2. [x] `delete_repo` (права на удаление репозиториев).
- Нажмите **Generate Token**.
- Скопируйте токен и сохраните его в **.env** (токен будет использоваться в скрипте для аутентификации).

**4. Установленные зависимости**

Вам понадобятся следующие библиотеки Python:

- **requests**: Для отправки HTTP-запросов к GitHub API.
- **python-dotenv**: Для загрузки переменных окружения из файла .env.


## Установка

### 1. Клонирование репозитория

Клонируйте этот репозиторий на ваш компьютер с помощью следующей команды:

```bash
git clone https://github.com/Alexandra-Balabolkina/GitHub-API.git
cd GitHub-API
```
### 2. Создание виртуального окружения
Для управления зависимостями проекта рекомендуется использовать виртуальное окружение. Выполните следующие команды:

Для Windows:

```bash
python -m venv venv
venv\Scripts\activate
```
Для macOS/Linux:

```bash
python3 -m venv venv
source venv/bin/activate
```
### 3. Установка зависимостей
Установите необходимые библиотеки, перечисленные в файле **requirements.txt**:

```bash
pip install -r requirements.txt
```
### 4. Создание и настройка .env файла
Скрипт использует файл **.env** для загрузки переменных окружения, включая ваш GitHub персональный токен и имя пользователя. 

Следуйте следующим шагам:

- В корневой директории проекта создайте файл .env.
- Добавьте следующие переменные в этот файл:

```
GITHUB_TOKEN=your_personal_access_token
GITHUB_USERNAME=your_github_username
REPO_NAME=test-repo
``` 
**GITHUB_TOKEN:** Ваш персональный токен GitHub. 

**GITHUB_USERNAME:** Ваше имя пользователя на GitHub.

**REPO_NAME:** Имя репозитория, который вы хотите создать, проверить и удалить.

### 5. Запуск скрипта
После настройки переменных окружения вы можете запустить скрипт с помощью следующей команды:

```bash
python test_api.py
```
## Как работает скрипт

Скрипт взаимодействует с GitHub API и выполняет следующие задачи:

**1. Создание репозитория:**

- Скрипт создаёт новый репозиторий в вашем аккаунте GitHub с именем, указанным в переменной `REPO_NAME`.

**2. Проверка репозитория:**

- Скрипт проверяет наличие созданного репозитория в списке ваших репозиториев.

**3. Удаление репозитория:**

- В завершение скрипт удаляет созданный репозиторий, отправляя DELETE-запрос к GitHub API.

## Структура файлов
```
/github-api-project
│
├── .env                # Переменные окружения (не включен в репозиторий)
├── .env.example        # Пример файла .env
├── .gitignore          # Игнорирование ненужных файлов в Git
├── README.md           # Документация проекта
├── requirements.txt    # Список зависимостей
├── test_api.py         # Основной скрипт для взаимодействия с GitHub API
└── venv/               # Виртуальное окружение
```
## Обработка ошибок
- **Ошибка 422 (Unprocessable Entity):** Возникает, если репозиторий с таким именем уже существует. Скрипт выводит сообщение об этом и не пытается повторно создать репозиторий.
- **Ошибка 404 (Not Found):** Возникает, если вы пытаетесь получить доступ или удалить несуществующий репозиторий.
- **Ошибка 403 (Forbidden):** Убедитесь, что ваш токен имеет права на удаление репозиториев (delete_repo), если вы видите эту ошибку при удалении.